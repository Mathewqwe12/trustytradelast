# Telegram Mini App

Простое Telegram мини-приложение, которое показывает основы работы с Telegram Web App API и Python бэкендом.

## Содержание

- HTML страница с базовым интерфейсом
- CSS стили, адаптированные под тему Telegram
- JavaScript для взаимодействия с Telegram Web App API
- Python бэкенд (Flask + python-telegram-bot)

## Фронтенд

Фронтенд часть представляет собой статическое веб-приложение, которое взаимодействует с Telegram Web App API.

### Файлы фронтенда:
- `index.html` - основной HTML файл
- `styles.css` - стили для приложения
- `app.js` - JavaScript код для взаимодействия с Telegram

## Бэкенд (Python)

Бэкенд часть реализована на Python с использованием Flask и python-telegram-bot.

### Файлы бэкенда:
- `bot.py` - основной файл с кодом бота и API
- `config.py` - файл с конфигурацией
- `requirements.txt` - зависимости Python
- `.env.example` - пример файла с переменными окружения

## Установка и запуск

### 1. Клонирование репозитория
```
git clone <url_репозитория>
cd tg_mini_app
```

### 2. Настройка переменных окружения
```
cp .env.example .env
```
Отредактируйте файл `.env`, установив свои значения.

### 3. Установка зависимостей Python
```
pip install -r requirements.txt
```

### 4. Запуск бота и API
```
python bot.py
```

### 5. Хостинг фронтенда
Разместите фронтенд файлы (HTML, CSS, JS) на любом хостинге статических файлов.

## Настройка бота в Telegram

1. Создайте бота через [@BotFather](https://t.me/BotFather) и получите токен.
2. Добавьте токен в файл `.env`.
3. Настройте кнопку меню бота через BotFather:
   - Выберите "Menu Button" и затем "Configure Menu Button"
   - Установите тип "Web App" и укажите URL вашего размещенного фронтенда

## API Endpoints

Бэкенд предоставляет следующие API endpoints:

- `GET /api/user/<user_id>` - получение данных пользователя
- `POST /api/webhook` - вебхук для уведомлений от Telegram
- `POST /api/send_message` - отправка сообщения пользователю через бота

## Деплой

### Heroku
```
git push heroku main
```

### Другие платформы
Вы можете развернуть приложение на любой платформе, поддерживающей Python и Flask.

## Примечания

- Для продакшена рекомендуется использовать базу данных вместо хранения данных в памяти.
- Настройте HTTPS для безопасного взаимодействия с Telegram API.

Для тестирования приложения локально можно использовать:
```
npx serve
```

Или любой другой локальный сервер для статических файлов. 